<h2 mat-dialog-title>Flag Post</h2>

<form [formGroup]="flagPostForm" (ngSubmit)="onSubmit()">
  <div mat-dialog-content>
    <div class="form-group">
      <label for="reason">Reason for Flagging</label>
      <select id="reason" formControlName="reason" class="form-control">
        <option value="">Select a reason</option>
        <option *ngFor="let reason of flaggingReasons" [value]="reason.value">
          {{ reason.label }}
        </option>
      </select>
      <div *ngIf="flagPostForm.get('reason')?.invalid && flagPostForm.get('reason')?.touched" class="error">
        Please select a reason.
      </div>
    </div>

    <div class="form-group">
      <label for="additionalComments">Additional Comments</label>
      <textarea
        id="additionalComments"
        formControlName="additionalComments"
        rows="4"
        class="form-control"
        placeholder="Provide additional comments (optional)"
      ></textarea>
      <div *ngIf="flagPostForm.get('additionalComments')?.invalid && flagPostForm.get('additionalComments')?.touched" class="error">
        Max length is 500 characters.
      </div>
    </div>
  </div>

  <mat-dialog-actions>
    <button mat-button (click)="onClose()">Cancel</button>
    <button mat-button type="submit" [disabled]="flagPostForm.invalid">Submit</button>
  </mat-dialog-actions>
</form>